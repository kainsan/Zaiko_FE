<div class="inventory-output-list-container">
    <ng-container *ngIf="viewMode() === 'list'">
        <header class="header">
            <div class="breadcrumb">
                <a routerLink="/admin" class="breadcrumb-link">
                    出庫
                </a>
                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="7" viewBox="0 0 256 512">
                    <path fill="#9f9f9f"
                        d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" />
                </svg>
                <span class="current-page">出庫一覧</span>
            </div>

            <div class="header-actions">
                <div class="date-container">
                    <span class="date-label">業務日付</span>
                    <span class="date-value">{{currentDate}}</span>
                </div>

                <button class="collapse-button" (click)="toggleSearch()">
                    <svg *ngIf="isSearchVisible()" width="13" height="8" viewBox="0 0 13 8" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M6.48047 0.246094L11.8125 5.55078C12.0586 5.82422 12.0586 6.23438 11.8125 6.48047L11.1836 7.10938C10.9375 7.35547 10.5273 7.35547 10.2539 7.10938L6.04297 2.89844L1.80469 7.10938C1.53125 7.35547 1.12109 7.35547 0.875 7.10938L0.246094 6.48047C0 6.23438 0 5.82422 0.246094 5.55078L5.57812 0.246094C5.82422 0 6.23438 0 6.48047 0.246094Z"
                            fill="#4392BB" />
                    </svg>

                    <svg *ngIf="!isSearchVisible()" width="15" height="15" viewBox="0 0 15 15" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M13.8086 12.1133C14.0547 12.3867 14.0547 12.7969 13.7812 13.043L13.0156 13.8086C12.7695 14.082 12.3594 14.082 12.0859 13.8086L9.37891 11.1016C9.24219 10.9648 9.1875 10.8008 9.1875 10.6367V10.1719C8.20312 10.9375 7 11.375 5.6875 11.375C2.54297 11.375 0 8.83203 0 5.6875C0 2.57031 2.54297 0 5.6875 0C8.80469 0 11.375 2.57031 11.375 5.6875C11.375 7.02734 10.9102 8.23047 10.1719 9.1875H10.6094C10.7734 9.1875 10.9375 9.26953 11.0742 9.37891L13.8086 12.1133ZM5.6875 9.1875C7.60156 9.1875 9.1875 7.62891 9.1875 5.6875C9.1875 3.77344 7.60156 2.1875 5.6875 2.1875C3.74609 2.1875 2.1875 3.77344 2.1875 5.6875C2.1875 7.62891 3.74609 9.1875 5.6875 9.1875Z"
                            fill="#4392BB" />
                    </svg>
                </button>
            </div>
        </header>

        <section *ngIf="isSearchVisible()">
            <search-inventory-output (searchInventoryOutputs)="handleSearchResults($event)"
                (onSearchParams)="handleSearchParams($event)" (clear)="handleClear()"></search-inventory-output>
        </section>

        <div class="container">
            <div class="list-section">
                <list-inventory-output [inventoryOutputs]="inventoryOutputs()" [totalPages]="totalPages()"
                    [currentPage]="currentPage()" (loadMore)="handleLoadMore()" (openPlan)="handleOpenPlan($event)"
                    (openActual)="handleOpenActual($event)"
                    (openCorrection)="handleOpenCorrection($event)"></list-inventory-output>
            </div>
        </div>
    </ng-container>
</div>