<main class="list-product-container">
  <div class="content-wrapper">
    <div class="header-section">
      <div class="title-group">
        <span class="title">検索結果一覧</span>
        <button class="csv-btn">
          <span>
            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5.48438 0H7.51562C7.8457 0 8.125 0.279297 8.125 0.609375V4.875H10.334C10.791 4.875 11.0195 5.43359 10.6895 5.76367L6.83008 9.62305C6.65234 9.80078 6.32227 9.80078 6.14453 9.62305L2.28516 5.76367C1.95508 5.43359 2.18359 4.875 2.64062 4.875H4.875V0.609375C4.875 0.279297 5.12891 0 5.48438 0ZM13 9.54688V12.3906C13 12.7461 12.7207 13 12.3906 13H0.609375C0.253906 13 0 12.7461 0 12.3906V9.54688C0 9.2168 0.253906 8.9375 0.609375 8.9375H4.31641L5.56055 10.1816C6.06836 10.7148 6.90625 10.7148 7.41406 10.1816L8.6582 8.9375H12.3906C12.7207 8.9375 13 9.2168 13 9.54688ZM9.85156 11.7812C9.85156 11.502 9.62305 11.2734 9.34375 11.2734C9.06445 11.2734 8.83594 11.502 8.83594 11.7812C8.83594 12.0605 9.06445 12.2891 9.34375 12.2891C9.62305 12.2891 9.85156 12.0605 9.85156 11.7812ZM11.4766 11.7812C11.4766 11.502 11.248 11.2734 10.9688 11.2734C10.6895 11.2734 10.4609 11.502 10.4609 11.7812C10.4609 12.0605 10.6895 12.2891 10.9688 12.2891C11.248 12.2891 11.4766 12.0605 11.4766 11.7812Z"
                fill="#4392BB" />
            </svg>
          </span> CSV
        </button>
        <div class="filter-options">
          <div class="filter-item">
            <input type="radio" name="productType" id="all" [checked]="selectedType() === 'ALL'"
              (change)="onTypeChange('ALL')" />
            <label for="all">全て</label>
          </div>
          <div class="filter-item">
            <input type="radio" name="productType" id="set" [checked]="selectedType() === 'SET'"
              (change)="onTypeChange('SET')" />
            <label for="set">セット品</label>
          </div>
          <div class="filter-item">
            <input type="radio" name="productType" id="product" [checked]="selectedType() === 'PRODUCT'"
              (change)="onTypeChange('PRODUCT')" />
            <label for="product">商品</label>
          </div>
        </div>
      </div>

      <span class="record-count">
        総計 <span class="count-value">{{currentPage}}</span> / {{ totalPages }} 件
      </span>
    </div>
    <section class="table-section">
      <div class="table-container scrollbar">
        <table class="product-table">
          <thead>
            <tr>
              <th class="sticky-left" style="width: 2rem;">No.</th>
              <th style="width:80px;">商品コード</th>
              <th style="width:240px;">名称</th>
              <th style="width:104px;">UPC1</th>
              <th style="width:104px;">UPC2</th>
              <th style="width:96px;">規格</th>
              <th style="width:160px;">名称情報1</th>
              <th style="width:160px;">名称情報2</th>
              <th style="width:160px;">名称情報3</th>
              <th style="width:160px;">名称情報4</th>
              <th style="width:104px;">商品分類コード１</th>
              <th style="width:120px;">商品分類名１</th>
              <th style="width:104px;">商品分類コード２</th>
              <th style="width:120px;">商品分類名２</th>
              <th style="width:104px;">商品分類コード３</th>
              <th style="width:120px;">商品分類名３</th>
              <th style="width:104px;">商品分類コード４</th>
              <th style="width:120px;">商品分類名４</th>
              <th style="width:104px;">商品分類コード５</th>
              <th style="width:120px;">商品分類名５</th>
              <th style="width:112px;">推奨倉庫</th>
              <th style="width:112px;">推奨ロケーション</th>
              <th style="width:64px;">ＦＩＦＯ</th>
              <th style="width:80px;">日付管理</th>
              <th style="width:64px;">番号管理</th>
              <th style="width:80px;">入庫荷姿</th>
              <th style="width:80px;">出庫荷姿</th>
              <th style="width:80px;">ＭＣ／ＩＣ</th>
              <th style="width:80px;">ＩＣ／Ｐ</th>
              <th class="sticky-right" style="width:60px;">操作</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngIf="filteredProducts().length > 0">
              <tr *ngFor="let product of filteredProducts()" (click)="openProductDetail(product)">
                <td class="sticky-left">
                  {{product.productEntity.productId }}</td>
                <td>{{ product.productEntity.productCode }}</td>
                <td>
                  <div class="product-name-cell">
                    <span class="product-name">{{ product.productEntity.name1 }}</span>
                    <span *ngIf="product.productEntity.isSet === '1'" class="set-badge">セット</span>
                  </div>
                </td>
                <td>{{ product.productEntity.upcCd1 }}</td>
                <td>{{ product.productEntity.upcCd2 }}</td>
                <td>{{ product.productEntity.standardInfo }}</td>
                <td>{{ product.productEntity.name2 }}</td>
                <td>{{ product.productEntity.name3 }}</td>
                <td>{{ product.productEntity.name4 }}</td>
                <td>{{ product.productEntity.name5 }}</td>
                <td>{{ product.productEntity.categoryCode1 }}</td>
                <td>{{ product.category1Entity?.categoryName }}</td>
                <td>{{ product.productEntity.categoryCode2 }}</td>
                <td>{{ product.category2Entity?.categoryName }}</td>
                <td>{{ product.productEntity.categoryCode3 }}</td>
                <td>{{ product.category3Entity?.categoryName }}</td>
                <td>{{ product.productEntity.categoryCode4 }}</td>
                <td>{{ product.category4Entity?.categoryName }}</td>
                <td>{{ product.productEntity.categoryCode5 }}</td>
                <td>{{ product.category5Entity?.categoryName }}</td>
                <td>{{product.repositoryEntity ? product.repositoryEntity.repositoryCode : '-'}}</td>
                <td>{{product.locationEntity ? product.locationEntity.locationCode : '-'}}</td>
                <td>{{product.productEntity.fifoType === '0' ? '先入先出' : '後入先出'}}</td>
                <td>{{product.productEntity.isDateTimeMng === '1' ? 'する' : 'しない'}}</td>
                <td>{{product.productEntity.isNumberMng === '1' ? 'する' : 'しない'}}</td>
                <td>{{getInputPackagingString(product.productEntity)}}</td>
                <td>{{getOutputPackagingString(product.productEntity)}}</td>
                <td>{{product.productEntity.packCsUnitCode}}</td>
                <td>{{product.productEntity.packBlUnitCode}}</td>
                <td class="sticky-right">
                  <button class="delete-btn">
                    <svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M10.125 0.75C10.3125 0.75 10.5 0.9375 10.5 1.125V1.875C10.5 2.08594 10.3125 2.25 10.125 2.25H0.375C0.164062 2.25 0 2.08594 0 1.875V1.125C0 0.9375 0.164062 0.75 0.375 0.75H3.1875L3.39844 0.328125C3.49219 0.140625 3.67969 0 3.89062 0H6.58594C6.79688 0 6.98438 0.140625 7.07812 0.328125L7.3125 0.75H10.125ZM1.24219 10.9453L0.75 3H9.75L9.23438 10.9453C9.21094 11.5547 8.71875 12 8.10938 12H2.36719C1.75781 12 1.26562 11.5547 1.24219 10.9453Z"
                        fill="white" />
                    </svg>
                  </button>
                </td>
              </tr>
            </ng-container>
            <ng-container *ngIf="filteredProducts().length === 0">
              <tr>
                <td colspan="100%" class="no-data">
                  表示するデータはありません。
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </section>

    <div class="load-more-container">
      <button class="load-more-btn" (click)="loadMore.emit()">
        <div class="btn-content">
          <svg width="9" height="12" viewBox="0 0 9 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M3.99219 5.52344L0.273438 1.80469C0 1.53125 0 1.12109 0.273438 0.875L0.875 0.246094C1.14844 0 1.55859 0 1.80469 0.246094L4.42969 2.89844L7.08203 0.246094C7.32812 0 7.73828 0 8.01172 0.246094L8.64062 0.875C8.88672 1.12109 8.88672 1.53125 8.64062 1.80469L4.92188 5.52344C4.64844 5.76953 4.23828 5.76953 3.99219 5.52344ZM4.92188 10.7734C4.64844 11.0195 4.23828 11.0195 3.99219 10.7734L0.273438 7.05469C0 6.78125 0 6.37109 0.273438 6.125L0.875 5.49609C1.14844 5.25 1.55859 5.25 1.80469 5.49609L4.45703 8.14844L7.08203 5.49609C7.32812 5.25 7.76562 5.25 8.01172 5.49609L8.64062 6.125C8.88672 6.37109 8.88672 6.78125 8.64062 7.05469L4.92188 10.7734Z"
              fill="#4392BB" />
          </svg>
          <span>更に表示</span>
        </div>
      </button>
    </div>
  </div>
</main>
